import{z as t,R as e,_ as o,A as i,B as n,D as r,E as a,F as s,H as l,i as h,I as d,c as p,J as u,K as c,M as g,N as f,O as y,P as m,Q as v,S as _,T as x,U as w,V as S,g as C,W as I,X as b,Y as T,$ as M,a0 as D,a1 as O,a2 as k,a3 as B,e as P,a4 as z,a5 as R,a6 as A,a7 as G,a8 as L,p as W,a9 as H,aa as N,ab as V,ac as Y,ad as X,ae as F,v as E,af as U,ag as j,ah as K,ai as Z,aj as Q,ak as q,al as J,am as $,an as tt,ao as et,ap as ot,s as it,aq as nt,ar as rt,as as at,at as st,au as lt,k as ht,m as dt,G as pt,av as ut,l as ct,aw as gt,ax as ft,ay as yt,u as mt}from"./39317677.js";const vt=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return o(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(i);function _t(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function xt(t){if(n.domSupported)for(var e=document.documentElement.style,o=0,i=t.length;o<i;o++)if(t[o]in e)return t[o]}var wt=xt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function St(t,e){if(!t)return e;e=r(e,!0);var o=t.indexOf(e);return(t=-1===o?e:"-"+t.slice(0,o)+"-"+e).toLowerCase()}var Ct=St(xt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),It=St(wt,"transform"),bt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(n.transform3dSupported?"will-change:transform;":"");function Tt(t,e,o){var i=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!n.transformSupported)return o?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var a=n.transform3dSupported,s="translate"+(a?"3d":"")+"("+i+","+r+(a?",0":"")+")";return o?"top:0;left:0;"+It+":"+s+";":[["top",0],["left",0],[wt,s]]}function Mt(e,o,i){var a=[],s=e.get("transitionDuration"),l=e.get("backgroundColor"),h=e.get("shadowBlur"),d=e.get("shadowColor"),u=e.get("shadowOffsetX"),c=e.get("shadowOffsetY"),f=e.getModel("textStyle"),y=g(e,"html"),m=u+"px "+c+"px "+h+"px "+d;return a.push("box-shadow:"+m),o&&s&&a.push(function(t,e){var o="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+o,r="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+o,r+=n.transformSupported?","+It+i:",left"+i+",top"+i),Ct+":"+r}(s,i)),l&&a.push("background-color:"+l),p(["width","color","radius"],(function(t){var o="border-"+t,i=r(o),n=e.get(i);null!=n&&a.push(o+":"+n+("color"===t?"":"px"))})),a.push(function(t){var e=[],o=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),o&&e.push("line-height:"+Math.round(3*o/2)+"px");var n=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return n&&r&&e.push("text-shadow:"+a+"px "+s+"px "+r+"px "+n),p(["decoration","align"],(function(o){var i=t.get(o);i&&e.push("text-"+o+":"+i)})),e.join(";")}(f)),null!=y&&a.push("padding:"+t(y).join("px ")+"px"),a.join(";")+";"}function Dt(t,e,o,i,n){var r=e&&e.painter;if(o){var a=r&&r.getViewportRoot();a&&f(t,a,document.body,i,n)}else{t[0]=i,t[1]=n;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const Ot=function(){function t(t,e,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,n.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),s=this._appendToBody=o&&o.appendToBody;Dt(this._styleCoord,r,s,e.getWidth()/2,e.getHeight()/2),s?document.body.appendChild(i):t.appendChild(i),this._container=t;var l=this;i.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!l._enterable){var e=r.handler,o=r.painter.getViewportRoot();a(o,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return t.prototype.update=function(t){var e,o,i,n=this._container,r=(o="position",(i=(e=n).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?o?i[o]:i:null),a=n.style;"absolute"!==a.position&&"absolute"!==r&&(a.position="relative");var s=t.get("alwaysShowContent");s&&this._moveIfResized(),this._alwaysShowContent=s,this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,i=o.style,n=this._styleCoord;o.innerHTML?i.cssText=bt+Mt(t,!this._firstShow,this._longHide)+Tt(n[0],n[1],!0)+"border-color:"+s(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,o,i,n){var r=this.el;if(null!=t){var a="";if(l(n)&&"item"===o.get("trigger")&&!_t(o)&&(a=function(t,e,o){if(!l(o)||"inside"===o)return"";var i=t.get("backgroundColor"),n=t.get("borderWidth");e=s(e);var r,a,h="left"===(r=o)?"right":"right"===r?"left":"top"===r?"bottom":"top",d=Math.max(1.5*Math.round(n),6),p="",u=It+":";c(["left","right"],h)>-1?(p+="top:50%",u+="translateY(-50%) rotate("+(a="left"===h?-225:-45)+"deg)"):(p+="left:50%",u+="translateX(-50%) rotate("+(a="top"===h?225:45)+"deg)");var g=a*Math.PI/180,f=d+n,y=f*Math.abs(Math.cos(g))+f*Math.abs(Math.sin(g)),m=e+" solid "+n+"px;";return'<div style="'+["position:absolute;width:"+d+"px;height:"+d+"px;z-index:-1;",(p+=";"+h+":-"+Math.round(100*((y-Math.SQRT2*n)/2+Math.SQRT2*n-(y-f)/2))/100+"px")+";"+u+";","border-bottom:"+m,"border-right:"+m,"background-color:"+i+";"].join("")+'"></div>'}(o,i,n)),l(t))r.innerHTML=t+a;else if(t){r.innerHTML="",h(t)||(t=[t]);for(var p=0;p<t.length;p++)d(t[p])&&t[p].parentNode!==r&&r.appendChild(t[p]);if(a&&r.childNodes.length){var u=document.createElement("div");u.innerHTML=a,r.appendChild(u)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var o=this._styleCoord;if(Dt(o,this._zr,this._appendToBody,t,e),null!=o[0]&&null!=o[1]){var i=this.el.style,n=Tt(o[0],o[1]);p(n,(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",n.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(u(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();function kt(t){return Math.max(0,t)}function Bt(t){var e=kt(t.shadowBlur||0),o=kt(t.shadowOffsetX||0),i=kt(t.shadowOffsetY||0);return{left:kt(e-o),right:kt(e+o),top:kt(e-i),bottom:kt(e+i)}}function Pt(t,e,o,i){t[0]=o,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const zt=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),Pt(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,o,i,n){var r=this;y(t)&&m(""),this.el&&this._zr.remove(this.el);var a=o.getModel("textStyle");this.el=new v({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:g(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),p(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){r.el.style[t]=o.get(t)})),p(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){r.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),o=Bt(t.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},t.prototype.moveTo=function(t,e){var o=this.el;if(o){var i=this._styleCoord;Pt(i,this._zr,t,e),t=i[0],e=i[1];var n=o.style,r=kt(n.borderWidth||0),a=Bt(n);o.x=t+r+a.left,o.y=e+r+a.top,o.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(u(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();var Rt=new e({shape:{x:-1,y:-1,width:2,height:2}});function At(t,e,o){var i,n=e.ecModel;o?(i=new Y(o,n,n),i=new Y(e.option,i,n)):i=e;for(var r=t.length-1;r>=0;r--){var a=t[r];a&&(a instanceof Y&&(a=a.get("tooltip",!0)),l(a)&&(a={formatter:a}),a&&(i=new Y(a,i,n)))}return i}function Gt(t,e){return t.dispatchAction||u(e.dispatchAction,e)}function Lt(t){return"center"===t||"middle"===t}const Wt=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return o(e,t),e.prototype.init=function(t,e){if(!n.node&&e.getDom()){var o=t.getComponent("tooltip"),i=this._renderMode=_(o.get("renderMode"));this._tooltipContent="richText"===i?new zt(e):new Ot(e.getDom(),e,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,e,o){if(!n.node&&o.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=o;var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?x(this,"_updatePosition",50,"fixRate"):w(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");S("itemTooltip",this._api,u((function(e,o,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(o,i):"leave"===e&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,o=this._api,i=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==i&&"click"!==i){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!o.isDisposed()&&n.manuallyShowTip(t,e,o,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,o,i){if(i.from!==this.uid&&!n.node&&o.getDom()){var r=Gt(i,o);this._ticket="";var a=i.dataByCoordSys,s=function(t,e,o){var i=X(t).queryOptionMap,n=i.keys()[0];if(!n||"series"===n)return;var r=F(e,n,i.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),a=r.models[0];if(!a)return;var s,l=o.getViewOfComponentModel(a);if(l.group.traverse((function(e){var o=C(e).tooltipConfig;if(o&&o.name===t.name)return s=e,!0})),s)return{componentMainType:n,componentIndex:a.componentIndex,el:s}}(i,e,o);if(s){var l=s.el.getBoundingRect().clone();l.applyTransform(s.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:s.el,position:i.position,positionDefault:"bottom"},r)}else if(i.tooltip&&null!=i.x&&null!=i.y){var h=Rt;h.x=i.x,h.y=i.y,h.update(),C(h).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:h},r)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:a,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,o,i))return;var d=I(i,e),p=d.point[0],u=d.point[1];null!=p&&null!=u&&this._tryShow({offsetX:p,offsetY:u,target:d.el,position:i.position,positionDefault:"bottom"},r)}else null!=i.x&&null!=i.y&&(o.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:o.getZr().findHover(i.x,i.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,o,i){var n=this._tooltipContent;this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Gt(i,o))},e.prototype._manuallyAxisShowTip=function(t,e,o,i){var n=i.seriesIndex,r=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=r&&null!=a){var s=e.getSeriesByIndex(n);if(s)if("axis"===At([s.getData().getItemModel(r),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:r,position:i.position}),!0}},e.prototype._tryShow=function(t,e){var o=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,t);else if(o){var n,r;this._lastDataByCoordSys=null,b(o,(function(t){return null!=C(t).dataIndex?(n=t,!0):null!=C(t).tooltipConfig?(r=t,!0):void 0}),!0),n?this._showSeriesItemTooltip(t,n,e):r?this._showComponentItemTooltip(t,r,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var o=t.get("showDelay");e=u(e,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(e,o):e()},e.prototype._showAxisTooltip=function(t,e){var o=this._ecModel,i=this._tooltipModel,n=[e.offsetX,e.offsetY],r=At([e.tooltipOption],i),a=this._renderMode,l=[],h=T("section",{blocks:[],noHeader:!0}),d=[],u=new M;p(t,(function(t){p(t.dataByAxis,(function(t){var e=o.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var r=D(n,e.axis,o,t.seriesDataIndices,t.valueLabelOpt),c=T("section",{header:r,noHeader:!O(r),sortBlocks:!0,blocks:[]});h.blocks.push(c),p(t.seriesDataIndices,(function(h){var p=o.getSeriesByIndex(h.seriesIndex),g=h.dataIndexInside,f=p.getDataParams(g);if(!(f.dataIndex<0)){f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=k(e.axis,{value:n}),f.axisValueLabel=r,f.marker=u.makeTooltipMarker("item",s(f.color),a);var y=B(p.formatTooltip(g,!0,null)),m=y.frag;if(m){var v=At([p],i).get("valueFormatter");c.blocks.push(v?P({valueFormatter:v},m):m)}y.text&&d.push(y.text),l.push(f)}}))}}))})),h.blocks.reverse(),d.reverse();var c=e.position,g=r.get("order"),f=z(h,u,a,g,o.get("useUTC"),r.get("textStyle"));f&&d.unshift(f);var y="richText"===a?"\n\n":"<br/>",m=d.join(y);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t,l)?this._updatePosition(r,c,n[0],n[1],this._tooltipContent,l):this._showTooltipContent(r,m,l,Math.random()+"",n[0],n[1],c,null,u)}))},e.prototype._showSeriesItemTooltip=function(t,e,o){var i=this._ecModel,n=C(e),r=n.seriesIndex,a=i.getSeriesByIndex(r),l=n.dataModel||a,h=n.dataIndex,d=n.dataType,p=l.getData(d),u=this._renderMode,c=t.positionDefault,g=At([p.getItemModel(h),l,a&&(a.coordinateSystem||{}).model],this._tooltipModel,c?{position:c}:null),f=g.get("trigger");if(null==f||"item"===f){var y=l.getDataParams(h,d),m=new M;y.marker=m.makeTooltipMarker("item",s(y.color),u);var v=B(l.formatTooltip(h,!1,d)),_=g.get("order"),x=g.get("valueFormatter"),w=v.frag,S=w?z(x?P({valueFormatter:x},w):w,m,u,_,i.get("useUTC"),g.get("textStyle")):v.text,I="item_"+l.name+"_"+h;this._showOrMove(g,(function(){this._showTooltipContent(g,S,y,I,t.offsetX,t.offsetY,t.position,t.target,m)})),o({type:"showTip",dataIndexInside:h,dataIndex:p.getRawIndex(h),seriesIndex:r,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,o){var i=C(e),n=i.tooltipConfig.option||{};if(l(n)){n={content:n,formatter:n}}var r=[n],a=this._ecModel.getComponent(i.componentMainType,i.componentIndex);a&&r.push(a),r.push({formatter:n.content});var s=t.positionDefault,h=At(r,this._tooltipModel,s?{position:s}:null),d=h.get("content"),p=Math.random()+"",u=new M;this._showOrMove(h,(function(){var o=R(h.get("formatterParams")||{});this._showTooltipContent(h,d,o,p,t.offsetX,t.offsetY,t.position,e,u)})),o({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,o,i,n,r,a,s,d){if(this._ticket="",t.get("showContent")&&t.get("show")){var p=this._tooltipContent;p.setEnterable(t.get("enterable"));var c=t.get("formatter");a=a||t.get("position");var g=e,f=this._getNearestPoint([n,r],o,t.get("trigger"),t.get("borderColor")).color;if(c)if(l(c)){var y=t.ecModel.get("useUTC"),m=h(o)?o[0]:o;g=c,m&&m.axisType&&m.axisType.indexOf("time")>=0&&(g=A(m.axisValue,g,y)),g=G(g,o,!0)}else if(L(c)){var v=u((function(e,i){e===this._ticket&&(p.setContent(i,d,t,f,a),this._updatePosition(t,a,n,r,p,o,s))}),this);this._ticket=i,g=c(o,i,v)}else g=c;p.setContent(g,d,t,f,a),p.show(t,f),this._updatePosition(t,a,n,r,p,o,s)}},e.prototype._getNearestPoint=function(t,e,o,i){return"axis"===o||h(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:h(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,o,i,n,r,a){var s=this._api.getWidth(),d=this._api.getHeight();e=e||t.get("position");var p=n.getSize(),u=t.get("align"),c=t.get("verticalAlign"),g=a&&a.getBoundingRect().clone();if(a&&g.applyTransform(a.transform),L(e)&&(e=e([o,i],r,n.el,g,{viewSize:[s,d],contentSize:p.slice()})),h(e))o=W(e[0],s),i=W(e[1],d);else if(y(e)){var f=e;f.width=p[0],f.height=p[1];var m=H(f,{width:s,height:d});o=m.x,i=m.y,u=null,c=null}else if(l(e)&&a){var v=function(t,e,o,i){var n=o[0],r=o[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,h=e.width,d=e.height;switch(t){case"inside":s=e.x+h/2-n/2,l=e.y+d/2-r/2;break;case"top":s=e.x+h/2-n/2,l=e.y-r-a;break;case"bottom":s=e.x+h/2-n/2,l=e.y+d+a;break;case"left":s=e.x-n-a,l=e.y+d/2-r/2;break;case"right":s=e.x+h+a,l=e.y+d/2-r/2}return[s,l]}(e,g,p,t.get("borderWidth"));o=v[0],i=v[1]}else{v=function(t,e,o,i,n,r,a){var s=o.getSize(),l=s[0],h=s[1];null!=r&&(t+l+r+2>i?t-=l+r:t+=r);null!=a&&(e+h+a>n?e-=h+a:e+=a);return[t,e]}(o,i,n,s,d,u?null:20,c?null:20);o=v[0],i=v[1]}if(u&&(o-=Lt(u)?p[0]/2:"right"===u?p[0]:0),c&&(i-=Lt(c)?p[1]/2:"bottom"===c?p[1]:0),_t(t)){v=function(t,e,o,i,n){var r=o.getSize(),a=r[0],s=r[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,n)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(o,i,n,s,d);o=v[0],i=v[1]}n.moveTo(o,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var o=this._lastDataByCoordSys,i=this._cbParamsList,n=!!o&&o.length===t.length;return n&&p(o,(function(o,r){var a=o.dataByAxis||[],s=(t[r]||{}).dataByAxis||[];(n=n&&a.length===s.length)&&p(a,(function(t,o){var r=s[o]||{},a=t.seriesDataIndices||[],l=r.seriesDataIndices||[];(n=n&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&a.length===l.length)&&p(a,(function(t,e){var o=l[e];n=n&&t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex})),i&&p(t.seriesDataIndices,(function(t){var o=t.seriesIndex,r=e[o],a=i[o];r&&a&&a.data!==r.data&&(n=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!n.node&&e.getDom()&&(w(this,"_updatePosition"),this._tooltipContent.dispose(),N("itemTooltip",e))},e.type="tooltip",e}(V);function Ht(t){E(U),t.registerComponentModel(vt),t.registerComponentView(Wt),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},j),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},j)}const Nt=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.layoutMode={type:"box",ignoreSize:!0},o}return o(e,t),e.prototype.init=function(t,e,o){this.mergeDefaultAndTheme(t,o),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,o){t.prototype.mergeOption.call(this,e,o),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,o=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),h(e)&&p(e,(function(t,i){l(t)&&(t={type:t}),e[i]=K(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(o,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,o=0;o<t.length;o++){var i=t[o].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],o=[];t.eachRawSeries((function(i){var n,r=i.name;if(o.push(r),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(o=o.concat(a)),a.length?e=e.concat(a):n=!0}else n=!0;n&&Z(i)&&e.push(i.name)})),this._availableNames=o;var i=this.get("data")||e,n=Q(),r=q(i,(function(t){return(l(t)||$(t))&&(t={name:t}),n.get(t.name)?null:(n.set(t.name,!0),new Y(t,this,this.ecModel))}),this);this._data=J(r,(function(t){return!!t}))},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var o=this._data;p(o,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;p(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;p(t,(function(t){var o=t.get("name",!0);e.hasOwnProperty(o)||(e[o]=!0),e[o]=!e[o]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&c(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(i);var Vt=dt,Yt=p,Xt=pt;function Ft(t,e,o,i){jt(t,e,o,i),o.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),Ut(t,e,o,i)}function Et(t){for(var e,o=t.getZr().storage.getDisplayList(),i=0,n=o.length;i<n&&!(e=o[i].states.emphasis);)i++;return e&&e.hoverLayer}function Ut(t,e,o,i){Et(o)||o.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function jt(t,e,o,i){Et(o)||o.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}const Kt=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.type=n.type,t.newlineDisabled=!1,t}return o(n,i),n.prototype.init=function(){this.group.add(this._contentGroup=new Xt),this.group.add(this._selectorGroup=new Xt),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(o,i,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),o.get("show",!0)){var a=o.get("align"),s=o.get("orient");a&&"auto"!==a||(a="right"===o.get("left")&&"vertical"===s?"right":"left");var l=o.get("selector",!0),h=o.get("selectorPosition",!0);!l||h&&"auto"!==h||(h="horizontal"===s?"end":"start"),this.renderInner(a,o,i,n,l,s,h);var d=o.getBoxLayoutParams(),p={width:n.getWidth(),height:n.getHeight()},u=o.get("padding"),c=H(d,p,u),g=this.layoutInner(o,a,c,r,l,h),f=H(tt({width:g.width,height:g.height},d),p,u);this.group.x=f.x-g.x,this.group.y=f.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=function(o,i){var n=t(i.get("padding")),r=i.getItemStyle(["color","opacity"]);return r.fill=i.get("backgroundColor"),new e({shape:{x:o.x-n[3],y:o.y-n[0],width:o.width+n[1]+n[3],height:o.height+n[0]+n[2],r:i.get("borderRadius")},style:r,silent:!0,z2:-1})}(g,o))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(t,e,o,i,n,r,a){var s=this.getContentGroup(),l=Q(),h=e.get("selectedMode"),d=[];o.eachRawSeries((function(t){!t.get("legendHoverLink")&&d.push(t.id)})),Yt(e.getData(),(function(n,r){var a=n.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var p=new Xt;return p.newline=!0,void s.add(p)}var u=o.getSeriesByName(a)[0];if(!l.get(a))if(u){var c=u.getData(),g=c.getVisual("legendLineStyle")||{},f=c.getVisual("legendIcon"),y=c.getVisual("style");this._createItem(u,a,r,n,e,t,g,y,f,h,i).on("click",Vt(Ft,a,null,i,d)).on("mouseover",Vt(Ut,u.name,null,i,d)).on("mouseout",Vt(jt,u.name,null,i,d)),l.set(a,!0)}else o.eachRawSeries((function(o){if(!l.get(a)&&o.legendVisualProvider){var s=o.legendVisualProvider;if(!s.containName(a))return;var p=s.indexOfName(a),u=s.getItemVisual(p,"style"),c=s.getItemVisual(p,"legendIcon"),g=et(u.fill);g&&0===g[3]&&(g[3]=.2,u=P(P({},u),{fill:ot(g,"rgba")})),this._createItem(o,a,r,n,e,t,{},u,c,h,i).on("click",Vt(Ft,null,a,i,d)).on("mouseover",Vt(Ut,null,a,i,d)).on("mouseout",Vt(jt,null,a,i,d)),l.set(a,!0)}}),this)}),this),n&&this._createSelector(n,e,i,r,a)},n.prototype._createSelector=function(t,e,o,i,n){var r=this.getSelectorGroup();Yt(t,(function(t){var i=t.type,n=new v({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});r.add(n);var a=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);it(n,{normal:a,emphasis:s},{defaultText:t.title}),nt(n)}))},n.prototype._createItem=function(t,o,i,n,r,a,s,h,d,p,u){var c=t.visualDrawType,g=r.get("itemWidth"),f=r.get("itemHeight"),y=r.isSelected(o),m=n.get("symbolRotate"),_=n.get("symbolKeepAspect"),x=n.get("icon"),w=function(t,e,o,i,n,r,a){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),Yt(t,(function(o,i){"inherit"===t[i]&&(t[i]=e[i])}))}var l=e.getModel("itemStyle"),h=l.getItemStyle(),d=0===t.lastIndexOf("empty",0)?"fill":"stroke",p=l.getShallow("decal");h.decal=p&&"inherit"!==p?lt(p,a):i.decal,"inherit"===h.fill&&(h.fill=i[n]);"inherit"===h.stroke&&(h.stroke=i[d]);"inherit"===h.opacity&&(h.opacity=("fill"===n?i:o).opacity);s(h,i);var u=e.getModel("lineStyle"),c=u.getLineStyle();if(s(c,o),"auto"===h.fill&&(h.fill=i.fill),"auto"===h.stroke&&(h.stroke=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),!r){var g=e.get("inactiveBorderWidth"),f=h[d];h.lineWidth="auto"===g?i.lineWidth>0&&f?2:0:h.lineWidth,h.fill=e.get("inactiveColor"),h.stroke=e.get("inactiveBorderColor"),c.stroke=u.get("inactiveColor"),c.lineWidth=u.get("inactiveWidth")}return{itemStyle:h,lineStyle:c}}(d=x||d||"roundRect",n,s,h,c,y,u),S=new Xt,C=n.getModel("textStyle");if(!L(t.getLegendIcon)||x&&"inherit"!==x){var I="inherit"===x&&t.getData().getVisual("symbol")?"inherit"===m?t.getData().getVisual("symbolRotate"):m:0;S.add(function(t){var e=t.icon||"roundRect",o=ht(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);o.setStyle(t.itemStyle),o.rotation=(t.iconRotate||0)*Math.PI/180,o.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2);return o}({itemWidth:g,itemHeight:f,icon:d,iconRotate:I,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:_}))}else S.add(t.getLegendIcon({itemWidth:g,itemHeight:f,icon:d,iconRotate:m,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:_}));var b="left"===a?g+5:-5,T=a,M=r.get("formatter"),D=o;l(M)&&M?D=M.replace("{name}",null!=o?o:""):L(M)&&(D=M(o));var O=n.get("inactiveColor");S.add(new v({style:rt(C,{text:D,x:b,y:f/2,fill:y?C.getTextColor():O,align:T,verticalAlign:"middle"})}));var k=new e({shape:S.getBoundingRect(),invisible:!0}),B=n.getModel("tooltip");return B.get("show")&&at({el:k,componentModel:r,itemName:o,itemTooltipOption:B.option}),S.add(k),S.eachChild((function(t){t.silent=!0})),k.silent=!p,this.getContentGroup().add(S),nt(S),S.__legendDataIndex=i,S},n.prototype.layoutInner=function(t,e,o,i,n,r){var a=this.getContentGroup(),s=this.getSelectorGroup();st(t.get("orient"),a,t.get("itemGap"),o.width,o.height);var l=a.getBoundingRect(),h=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),n){st("horizontal",s,t.get("selectorItemGap",!0));var d=s.getBoundingRect(),p=[-d.x,-d.y],u=t.get("selectorButtonGap",!0),c=t.getOrient().index,g=0===c?"width":"height",f=0===c?"height":"width",y=0===c?"y":"x";"end"===r?p[c]+=l[g]+u:h[c]+=d[g]+u,p[1-c]+=l[f]/2-d[f]/2,s.x=p[0],s.y=p[1],a.x=h[0],a.y=h[1];var m={x:0,y:0};return m[g]=l[g]+u+d[g],m[f]=Math.max(l[f],d[f]),m[y]=Math.min(0,d[y]+p[1-c]),m}return a.x=h[0],a.y=h[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(V);function Zt(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var o=0;o<e.length;o++)if(!e[o].isSelected(t.name))return!1;return!0}))}function Qt(t,e,o){var i,n={},r="toggleSelected"===t;return o.eachComponent("legend",(function(o){r&&null!=i?o[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?o[t]():(o[t](e.name),i=o.isSelected(e.name));var a=o.getData();p(a,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=o.isSelected(e);n.hasOwnProperty(e)?n[e]=n[e]&&i:n[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:n}:{name:e.name,selected:n}}function qt(t){t.registerComponentModel(Nt),t.registerComponentView(Kt),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,Zt),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",dt(Qt,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",dt(Qt,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",dt(Qt,"inverseSelect")),t.registerAction("legendSelect","legendselected",dt(Qt,"select")),t.registerAction("legendUnSelect","legendunselected",dt(Qt,"unSelect"))}(t)}function Jt(t,e,o){var i=[1,1];i[t.getOrient().index]=0,gt(e,o,{type:"box",ignoreSize:!!i})}const $t=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return o(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,o,i){var n=ut(e);t.prototype.init.call(this,e,o,i),Jt(this,e,n)},e.prototype.mergeOption=function(e,o){t.prototype.mergeOption.call(this,e,o),Jt(this,this.option,e)},e.type="legend.scroll",e.defaultOption=ct(Nt.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Nt);var te=pt,ee=["width","height"],oe=["x","y"];const ie=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=i.type,e.newlineDisabled=!0,e._currentIndex=0,e}return o(i,t),i.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new te),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new te)},i.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},i.prototype.renderInner=function(e,o,i,n,r,a,s){var l=this;t.prototype.renderInner.call(this,e,o,i,n,r,a,s);var d=this._controllerGroup,p=o.get("pageIconSize",!0),c=h(p)?p:[p,p];f("pagePrev",0);var g=o.getModel("pageTextStyle");function f(t,e){var i=t+"DataIndex",r=ft(o.get("pageIcons",!0)[o.getOrient().name][e],{onclick:u(l._pageGo,l,i,o,n)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});r.name=t,d.add(r)}d.add(new v({name:"pageText",style:{text:"xx/xx",fill:g.getTextColor(),font:g.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},i.prototype.layoutInner=function(t,e,o,i,n,r){var a=this.getSelectorGroup(),s=t.getOrient().index,l=ee[s],h=oe[s],d=ee[1-s],p=oe[1-s];n&&st("horizontal",a,t.get("selectorItemGap",!0));var u=t.get("selectorButtonGap",!0),c=a.getBoundingRect(),g=[-c.x,-c.y],f=R(o);n&&(f[l]=o[l]-c[l]-u);var y=this._layoutContentAndController(t,i,f,s,l,d,p,h);if(n){if("end"===r)g[s]+=y[l]+u;else{var m=c[l]+u;g[s]-=m,y[h]-=m}y[l]+=c[l]+u,g[1-s]+=y[p]+y[d]/2-c[d]/2,y[d]=Math.max(y[d],c[d]),y[p]=Math.min(y[p],c[p]+g[1-s]),a.x=g[0],a.y=g[1],a.markRedraw()}return y},i.prototype._layoutContentAndController=function(t,o,i,n,r,a,s,l){var h=this.getContentGroup(),d=this._containerGroup,p=this._controllerGroup;st(t.get("orient"),h,t.get("itemGap"),n?i.width:null,n?null:i.height),st("horizontal",p,t.get("pageButtonItemGap",!0));var u=h.getBoundingRect(),c=p.getBoundingRect(),g=this._showController=u[r]>i[r],f=[-u.x,-u.y];o||(f[n]=h[l]);var y=[0,0],m=[-c.x,-c.y],v=yt(t.get("pageButtonGap",!0),t.get("itemGap",!0));g&&("end"===t.get("pageButtonPosition",!0)?m[n]+=i[r]-c[r]:y[n]+=c[r]+v);m[1-n]+=u[a]/2-c[a]/2,h.setPosition(f),d.setPosition(y),p.setPosition(m);var _={x:0,y:0};if(_[r]=g?i[r]:u[r],_[a]=Math.max(u[a],c[a]),_[s]=Math.min(0,c[s]+m[1-n]),d.__rectSize=i[r],g){var x={x:0,y:0};x[r]=Math.max(i[r]-c[r]-v,0),x[a]=_[a],d.setClipPath(new e({shape:x})),d.__rectSize=x[r]}else p.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var w=this._getPageInfo(t);return null!=w.pageIndex&&mt(h,{x:w.contentPosition[0],y:w.contentPosition[1]},g?t:null),this._updatePageInfoView(t,w),_},i.prototype._pageGo=function(t,e,o){var i=this._getPageInfo(e)[t];null!=i&&o.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},i.prototype._updatePageInfoView=function(t,e){var o=this._controllerGroup;p(["pagePrev","pageNext"],(function(i){var n=null!=e[i+"DataIndex"],r=o.childOfName(i);r&&(r.setStyle("fill",n?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=n?"pointer":"default")}));var i=o.childOfName("pageText"),n=t.get("pageFormatter"),r=e.pageIndex,a=null!=r?r+1:0,s=e.pageCount;i&&n&&i.setStyle("text",l(n)?n.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):n({current:a,total:s}))},i.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),o=this.getContentGroup(),i=this._containerGroup.__rectSize,n=t.getOrient().index,r=ee[n],a=oe[n],s=this._findTargetItemIndex(e),l=o.children(),h=l[s],d=l.length,p=d?1:0,u={contentPosition:[o.x,o.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return u;var c=v(h);u.contentPosition[n]=-c.s;for(var g=s+1,f=c,y=c,m=null;g<=d;++g)(!(m=v(l[g]))&&y.e>f.s+i||m&&!_(m,f.s))&&(f=y.i>f.i?y:m)&&(null==u.pageNextDataIndex&&(u.pageNextDataIndex=f.i),++u.pageCount),y=m;for(g=s-1,f=c,y=c,m=null;g>=-1;--g)(m=v(l[g]))&&_(y,m.s)||!(f.i<y.i)||(y=f,null==u.pagePrevDataIndex&&(u.pagePrevDataIndex=f.i),++u.pageCount,++u.pageIndex),f=m;return u;function v(t){if(t){var e=t.getBoundingRect(),o=e[a]+t[a];return{s:o,e:o+e[r],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+i}},i.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(i,n){var r=i.__legendDataIndex;null==o&&null!=r&&(o=n),r===t&&(e=n)})),null!=e?e:o):0;var e,o},i.type="legend.scroll",i}(Kt);function ne(t){E(qt),t.registerComponentModel($t),t.registerComponentView(ie),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var o=t.scrollDataIndex;null!=o&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(o)}))}))}(t)}function re(t){E(qt),E(ne)}export{re as a,Ht as i};
