(()=>{"use strict";var e={1742:(e,n,t)=>{t(6992),t(8674),t(9601),t(7727);var r=t(9242),o=t(3396),i=(0,o.Uk)("Home"),a=(0,o.Uk)(" | "),l=(0,o.Uk)("About");function s(e,n){var t=(0,o.up)("router-link"),r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",null,[(0,o.Wm)(t,{to:"/"},{default:(0,o.w5)((function(){return[i]})),_:1}),a,(0,o.Wm)(t,{to:"/about"},{default:(0,o.w5)((function(){return[l]})),_:1})]),(0,o.Wm)(r)],64)}var c=t(89);const u={},d=(0,c.Z)(u,[["render",s]]),v=d;t(1539),t(8783),t(3948);var p=t(302),m=t(8534),f=(t(6133),t(6977),t(4916),t(7601),t(4870)),h=t(5461);new h.XS;var g=t(1114),w=t(2236),_=new g.xsS,b=new w.x;b.loadAsync("./textures/023.hdr").then((function(e){_.background=e,_.environment=e,_.environment.mapping=g.dSO}));var y=new g.Ox3(16777215,1);y.position.set(10,100,10),_.add(y);const C=_;var k=t(3087),P=t(2833),x=t(1373),O=new x.Z;const j=O;var A=new g.cPb(75,window.innerHeight/window.innerHeight,1,1e5);A.position.set(1e3,1e3,1e3);var E=function(){function e(){var n=this;(0,k.Z)(this,e),this.activeCamera=A,this.collection={default:A},j.on("toggleCamera",(function(e){n.setActive(e)}))}return(0,P.Z)(e,[{key:"add",value:function(e,n){this.collection[e]=n}},{key:"setActive",value:function(e){this.activeCamera=this.collection[e]}}]),e}();const S=new E;var F=t(4543),M=t(1183),Z=t(1984),H=new g.CP7({antialias:!0,logarithmicDepthBuffer:!0,physicallyCorrectLights:!0});H.setSize(window.innerWidth,window.innerHeight),H.shadowMap.enabled=!0,H.toneMapping=g.LY2,H.toneMappingExposure=1.5;const D=H;var L=function(){function e(){var n=this;(0,k.Z)(this,e),this.setOrbitControls(),j.on("toggleControls",(function(e){n["set".concat(e,"Controls")]()}))}return(0,P.Z)(e,[{key:"setOrbitControls",value:function(){this.controls=new F.z(S.activeCamera,D.domElement),this.controls.enableDamping=!0,this.controls.maxPolarAngle=Math.PI/2,this.controls.minPolarAngle=0}},{key:"setFlyControls",value:function(){this.controls=new M.m(S.activeCamera,D.domElement),this.controls.movementSpeed=100,this.controls.rollSpeed=Math.PI/60}},{key:"setFirstPersonControls",value:function(){this.controls=new Z.o(S.activeCamera,D.domElement),this.controls.movementSpeed=100,this.controls.rollSpeed=Math.PI/60}}]),e}();const T=new L;var W=new g.y8_(5);const N=W;S.activeCamera.aspect=window.innerWidth/window.innerHeight,S.activeCamera.updateProjectionMatrix(),window.addEventListener("resize",(function(){S.activeCamera.aspect=window.innerWidth/window.innerHeight,S.activeCamera.updateProjectionMatrix(),D.setSize(window.innerWidth,window.innerHeight),D.setPixelRatio(window.devicePixelRatio)}));var Y,z=t(4198),B=(t(8309),t(9554),t(4747),t(8552)),I=t(1989),R=function(){function e(n){var t=this;(0,k.Z)(this,e),this.scene=n,this.loader=new z.E;var r=new I._;r.setDecoderPath("./draco/"),this.loader.setDRACOLoader(r),this.loader.load("./model/city4.glb",(function(e){console.log(e),n.add(e.scene),t.gltf=e,e.scene.traverse((function(n){if("热气球"===n.name&&(t.mixer=new g.Xcj(n),t.clip=e.animations[1],t.action=t.mixer.clipAction(t.clip),t.action.play()),"汽车园区轨迹"===n.name){var r=n;r.visible=!1;for(var o=[],i=r.geometry.attributes.position.count-1;i>=0;i--)o.push(new g.Pa4(r.geometry.attributes.position.getX(i),r.geometry.attributes.position.getY(i),r.geometry.attributes.position.getZ(i)));t.curve=new g.YT8(o),t.curveProgress=0,t.carAnimation()}"redcar"===n.name&&(console.log(n),t.redcar=n)})),e.cameras.forEach((function(e){S.add(e.name,e)}))})),j.on("actionClick",(function(e){console.log(e),t.action.reset(),t.clip=t.gltf.animations[e],t.action=t.mixer.clipAction(t.clip),t.action.play()}))}return(0,P.Z)(e,[{key:"update",value:function(e){this.mixer&&this.mixer.update(e)}},{key:"carAnimation",value:function(){var e=this;B.ZP.to(this,{curveProgress:.999,duration:10,repeat:-1,onUpdate:function(){var n=e.curve.getPoint(e.curveProgress);if(e.redcar.position.set(n.x,n.y,n.z),e.curveProgress+.001<1){var t=e.curve.getPoint(e.curveProgress+.001);e.redcar.lookAt(t)}}})}}]),e}();function U(){Y=new R(C)}function q(e){Y.update(e)}var K=new g.SUY;function X(e){var n=K.getDelta();T.controls.update(n),q(n),requestAnimationFrame(X),D.render(C,S.activeCamera)}const G=X,J={props:["eventList"],setup:function(e){var n=(0,f.iH)(null);C.add(S.activeCamera),C.add(N),U();return(0,o.bv)((function(){n.value.appendChild(D.domElement),G()})),function(e,t){return(0,o.wg)(),(0,o.iD)("div",{class:"scene",ref_key:"sceneDiv",ref:n},null,512)}}},Q=J,V=Q;var $=t(3057),ee=t(3886),ne={id:"bigScreen"},te=(0,o._)("div",{class:"header"},"智慧城市管理系统平台",-1),re={class:"main"},oe={class:"left"},ie={class:"cityEvent"},ae=(0,o._)("h3",null,[(0,o._)("span",null,"热气球控制")],-1),le=(0,o._)("img",{class:"icon",src:$,alt:""},null,-1),se=(0,o._)("span",null,"设置热气球以横穿园区的动画显示",-1),ce=[le,se],ue=(0,o._)("img",{class:"icon",src:$,alt:""},null,-1),de=(0,o._)("span",null,"设置热气球以环绕园区进行运动",-1),ve=[ue,de],pe=(0,o._)("div",{class:"footerBorder"},null,-1),me={class:"cityEvent"},fe=(0,o._)("h3",null,[(0,o._)("span",null,"相机控制")],-1),he=(0,o._)("img",{class:"icon",src:$,alt:""},null,-1),ge=(0,o._)("span",null,"默认的相机视角",-1),we=[he,ge],_e=(0,o._)("img",{class:"icon",src:$,alt:""},null,-1),be=(0,o._)("span",null,"设置相机追随汽车导览园区",-1),ye=[_e,be],Ce=(0,o._)("img",{class:"icon",src:$,alt:""},null,-1),ke=(0,o._)("span",null,"查看汽车司机视角",-1),Pe=[Ce,ke],xe=(0,o._)("div",{class:"footerBorder"},null,-1),Oe={class:"right"},je={class:"cityEvent list"},Ae=(0,o._)("h3",null,[(0,o._)("span",null,"切换园区观览模式")],-1),Ee=(0,o._)("h1",null,[(0,o._)("div",null,[(0,o._)("img",{class:"icon",src:ee,alt:""}),(0,o._)("span",null," 轨道观览 ")])],-1),Se=(0,o._)("p",null,"可以锁定目标建筑和园区进行轨道式360°查看",-1),Fe=[Ee,Se],Me=(0,o._)("h1",null,[(0,o._)("div",null,[(0,o._)("img",{class:"icon",src:ee,alt:""}),(0,o._)("span",null," 飞行观览 ")])],-1),Ze=(0,o._)("p",null,"可以使用飞行模式进行园区进行观览",-1),He=[Me,Ze],De=(0,o._)("h1",null,[(0,o._)("div",null,[(0,o._)("img",{class:"icon",src:ee,alt:""}),(0,o._)("span",null," 第一人称 ")])],-1),Le=(0,o._)("p",null,"可以使用第一人称模式进行园区进行观览",-1),Te=[De,Le],We=(0,o._)("div",{class:"footerBorder"},null,-1);const Ne={props:["dataInfo","dataInfoNum","iotNum","eventNum","testNum","powerNum","eventList"],setup:function(e){var n=(0,f.iH)(null);t(3886),t(8957),t(8169);j.on("spriteClick",(function(e){n.value=e}));var r=function(e){console.log(e),j.emit("actionClick",e)},i=function(e){j.emit("toggleCamera",e)},a=function(e){j.emit("toggleControls",e)};return function(e,n){return(0,o.wg)(),(0,o.iD)("div",ne,[te,(0,o._)("div",re,[(0,o._)("div",oe,[(0,o._)("div",ie,[ae,(0,o._)("h1",{onClick:n[0]||(n[0]=function(e){return r(0)})},ce),(0,o._)("h1",{onClick:n[1]||(n[1]=function(e){return r(1)})},ve),pe]),(0,o._)("div",me,[fe,(0,o._)("h1",{onClick:n[2]||(n[2]=function(e){return i("default")})},we),(0,o._)("h1",{onClick:n[3]||(n[3]=function(e){return i("carcamera_Orientation")})},ye),(0,o._)("h1",{onClick:n[4]||(n[4]=function(e){return i("rightcamera_Orientation")})},Pe),xe])]),(0,o._)("div",Oe,[(0,o._)("div",je,[Ae,(0,o._)("ul",null,[(0,o._)("li",{onClick:n[5]||(n[5]=function(e){return a("Orbit")})},Fe),(0,o._)("li",{onClick:n[6]||(n[6]=function(e){return a("Fly")})},He),(0,o._)("li",{onClick:n[7]||(n[7]=function(e){return a("FirstPerson")})},Te)]),We])])])])}}},Ye=Ne,ze=Ye;t(6265);var Be={class:"home"};const Ie={setup:function(e){var n=(0,f.qj)({}),t=(0,f.qj)({iot:0,event:0,power:0,test:0});(0,o.Fl)((function(){return t.iot.toFixed(0)})),(0,o.Fl)((function(){return t.event.toFixed(0)})),(0,o.Fl)((function(){return t.power.toFixed(2)})),(0,o.Fl)((function(){return t.test.toFixed(0)}));(0,o.bv)((0,m.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),(0,o.YP)(n,(function(e,n){B.ZP.to(t,{iot:e.iot.number,event:e.event.number,test:e.test.number,power:e.power.number,duration:1,repeat:1})}));var r=(0,f.iH)([]);return(0,o.YP)(r,(function(){console.log("触发事件列表更新")})),(0,o.bv)((function(){})),function(e,n){return(0,o.wg)(),(0,o.iD)("div",Be,[(0,o.Wm)(V,{eventList:r.value},null,8,["eventList"]),(0,o.Wm)(ze)])}}},Re=Ie,Ue=Re;var qe=[{path:"/",name:"home",component:Ue},{path:"/about",name:"about",component:function(){return t.e(443).then(t.bind(t,7381))}}],Ke=(0,p.p7)({history:(0,p.r5)("/screen"),routes:qe});const Xe=Ke;var Ge=t(65);const Je=(0,Ge.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});document.onkeydown=function(){var e=window.event||arguments[0];return 123!=e.keyCode&&((!e.ctrlKey||!e.shiftKey||73!=e.keyCode)&&((!e.ctrlKey||85!=e.keyCode)&&((!e.ctrlKey||83!=e.keyCode)&&void 0)))},document.oncontextmenu=function(){return!1},(0,r.ri)(v).use(Je).use(Xe).mount("#app")},3057:(e,n,t)=>{e.exports=t.p+"img/bar.f0210aef.svg"},3886:(e,n,t)=>{e.exports=t.p+"img/dianli.00c36544.svg"},8957:(e,n,t)=>{e.exports=t.p+"img/fire.5236bece.svg"},8169:(e,n,t)=>{e.exports=t.p+"img/jingcha.da78e053.svg"}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,t),i.loaded=!0,i.exports}t.m=e,(()=>{var e=[];t.O=(n,r,o,i)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,o,i]=e[u],l=!0,s=0;s<r.length;s++)(!1&i||a>=i)&&Object.keys(t.O).every((e=>t.O[e](r[s])))?r.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(u--,1);var c=o();void 0!==c&&(n=c)}}return n}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}})(),(()=>{t.n=e=>{var n=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(n,{a:n}),n}})(),(()=>{t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((n,r)=>(t.f[r](e,n),n)),[]))})(),(()=>{t.u=e=>"js/about.1964ea4a.js"})(),(()=>{t.miniCssF=e=>{}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={},n="vue-screen:";t.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var l,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==n+i){l=d;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,t.nc&&l.setAttribute("nonce",t.nc),l.setAttribute("data-webpack",n+i),l.src=r),e[r]=[o];var v=(n,t)=>{l.onerror=l.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((e=>e(t))),n)return n(t)},p=setTimeout(v.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=v.bind(null,l.onerror),l.onload=v.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{t.p=""})(),(()=>{var e={143:0};t.f.j=(n,r)=>{var o=t.o(e,n)?e[n]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((t,r)=>o=e[n]=[t,r]));r.push(o[2]=i);var a=t.p+t.u(n),l=new Error,s=r=>{if(t.o(e,n)&&(o=e[n],0!==o&&(e[n]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;l.message="Loading chunk "+n+" failed.\n("+i+": "+a+")",l.name="ChunkLoadError",l.type=i,l.request=a,o[1](l)}};t.l(a,s,"chunk-"+n,n)}},t.O.j=n=>0===e[n];var n=(n,r)=>{var o,i,[a,l,s]=r,c=0;if(a.some((n=>0!==e[n]))){for(o in l)t.o(l,o)&&(t.m[o]=l[o]);if(s)var u=s(t)}for(n&&n(r);c<a.length;c++)i=a[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},r=self["webpackChunkvue_screen"]=self["webpackChunkvue_screen"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var r=t.O(void 0,[998],(()=>t(1742)));r=t.O(r)})();
//# sourceMappingURL=app.c3b2e393.js.map